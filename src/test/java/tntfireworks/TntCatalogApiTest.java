package tntfireworks;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;

import org.junit.Assert;
import org.mockito.ArgumentCaptor;
import org.mockito.Mockito;
import org.mockito.MockitoAnnotations;
import org.skyscreamer.jsonassert.JSONAssert;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.reflect.TypeToken;
import com.squareup.connect.v2.Catalog;
import com.squareup.connect.v2.CatalogAdapter;
import com.squareup.connect.v2.CatalogItem;
import com.squareup.connect.v2.CatalogItemVariation;
import com.squareup.connect.v2.CatalogObject;
import com.squareup.connect.v2.Location;
import com.squareup.connect.v2.LocationsAdapter;
import com.squareup.connect.v2.SquareClientV2;

import junit.framework.TestCase;
import util.SquarePayload;

public class TntCatalogApiTest extends TestCase {

    private static final String ENCRYPTION_KEY = "TeStInG";
    private static final String apiUrl = "https://connect.squareupstaging.com";

    // deployment to test
    private static final String deploymentJson = "{\"merchantId\":\"3M4YT8JKYHAVJ\",\"encryptedAccessToken\":\"NNE4+Mx5ymxloCSGW4Uba1hC3LU+KrQLjf0pMcUeSLExFj6unMQSjg==\",\"merchantAlias\":\"Tnt Fireworks 1\"}";

    // first run - input
    private static final String locationMarketingPlanCache1stRunJson = "{\"FAL0004\":\"2TNTC\",\"FAL0002\":\"2TNTC\",\"AZP0002\":\"2TNTC\",\"TX 0489\":\"6LAR\",\"AZP0001\":\"6LAR\"}";
    private static final String marketingPlanItemsCache1stRunJson = "{\"2TNTC\":[{\"number\":\"100138\",\"category\":\"ASSORTMENTS\",\"description\":\"BURSTING W/PRIDE POLYBAG\",\"suggestedPrice\":\"29.99\",\"upc\":\"27736000289\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100382\",\"category\":\"ASSORTMENTS\",\"description\":\"TNT HOT SHOT BAG C\",\"suggestedPrice\":\"14.99\",\"upc\":\"27736000098\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100605\",\"category\":\"ASSORTMENTS\",\"description\":\"RED DEVIL TRAY SS\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736031030\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100687\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT TRAY C     4/1\",\"suggestedPrice\":\"79.99\",\"upc\":\"27736003037\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100690\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT SS\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736031054\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100934\",\"category\":\"ASSORTMENTS\",\"description\":\"GOODY BAG SS  PDQ\",\"suggestedPrice\":\"9.99\",\"upc\":\"27736012510\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"}],\"6LAR\":[{\"number\":\"100068\",\"category\":\"ASSORTMENTS\",\"description\":\"BATTLE CRY ASSORTMENT C\",\"suggestedPrice\":\"19.99\",\"upc\":\"27736000036\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100075\",\"category\":\"ASSORTMENTS\",\"description\":\"BIG BOMB TRAY SS\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736024421\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100603\",\"category\":\"ASSORTMENTS\",\"description\":\"RED DEVIL TRAY C\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736010509\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100687\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT TRAY C     4/1\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736003037\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100731\",\"category\":\"ASSORTMENTS\",\"description\":\"BLAST C\",\"suggestedPrice\":\"69.99\",\"upc\":\"27736006557\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100934\",\"category\":\"ASSORTMENTS\",\"description\":\"GOODY BAG SS  PDQ\",\"suggestedPrice\":\"6.99\",\"upc\":\"27736012510\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"}]}";
    private static final String locationsJson = "[{\"id\":\"7Y9J7C251APH3\",\"name\":\"6924 HWY 359 (#TX 0489)\",\"address\":{\"address_line_1\":\"450 14th St\",\"address_line_2\":\"\",\"locality\":\"San Francisco\",\"administrative_district_level_1\":\"CA\",\"postal_code\":\"94103-2316\",\"country\":\"US\"},\"timezone\":\"America/Los_Angeles\",\"capabilities\":[\"CREDIT_CARD_PROCESSING\"]},{\"id\":\"F8M9VD8NNBQ7J\",\"name\":\"VACANT LOT (#FAL0004)\",\"address\":{\"address_line_1\":\"450 14th St\",\"address_line_2\":\"\",\"locality\":\"San Francisco\",\"administrative_district_level_1\":\"CA\",\"postal_code\":\"94103-2316\",\"country\":\"US\"},\"timezone\":\"America/Los_Angeles\",\"capabilities\":[\"CREDIT_CARD_PROCESSING\"]},{\"id\":\"2QD45WEE8B1BW\",\"name\":\"WHEELER ALEX CITY MARKETPLACE (#FAL0002)\",\"address\":{\"address_line_1\":\"450 14th St\",\"address_line_2\":\"\",\"locality\":\"San Francisco\",\"administrative_district_level_1\":\"CA\",\"postal_code\":\"94103-2316\",\"country\":\"US\"},\"timezone\":\"America/Los_Angeles\",\"capabilities\":[\"CREDIT_CARD_PROCESSING\"]}]";

    // first run expectations
    private static final String catalogWithCategoriesOnlyJson = "{\"items\":{},\"categories\":{\"SPARKLERS\":{\"type\":\"CATEGORY\",\"id\":\"KWEIYGPIXP3KVG5PZWPVY5PK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},\"ASSORTMENTS\":{\"type\":\"CATEGORY\",\"id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},\"CALIFORNIA FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"MNHQ36C7XMKAFUOUY2O3I3IK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},\"PUNK\":{\"type\":\"CATEGORY\",\"id\":\"7MRTKG4VWGP6DSFREOYMQMWZ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},\"CONE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"JVTEXQG2S546O7BRUKYZBO7J\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},\"BASE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"NM3HKPXQ65IHGNZUOQINAQTL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},\"SPECIAL AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"NWTOKKU3ZETJZRS75HHFMNRH\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},\"FIRECRACKERS\":{\"type\":\"CATEGORY\",\"id\":\"G7VTLCWM6ULXXGSMFD3LHXMW\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},\"RELOADABLES\":{\"type\":\"CATEGORY\",\"id\":\"V2XV6VKLSPVUP36C5GVZXPHL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},\"MULTI-AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"QNW2SBGBEELNVMXBWALQWWWU\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},\"PROMOTIONAL\":{\"type\":\"CATEGORY\",\"id\":\"BZLE6QMRFPNPCDL57RBADPCR\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},\"PARACHUTES\":{\"type\":\"CATEGORY\",\"id\":\"7T4ZLSUEFKP2HYSJNCO7QJRK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},\"GROUND SPINNERS \\u0026 CHASERS\":{\"type\":\"CATEGORY\",\"id\":\"VZXAUZ2ZINUUWOF7Z3XENM37\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},\"TOYS\":{\"type\":\"CATEGORY\",\"id\":\"ZPVDZ55PSRGBZRR4RUDBSMEV\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},\"ROMAN CANDLES\":{\"type\":\"CATEGORY\",\"id\":\"JAF6DFEINAIOQDKRZXLQGEOL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},\"COUNTER CASES \\u0026 DISPLAYS\":{\"type\":\"CATEGORY\",\"id\":\"FV2HKIC5CTEZUUKEMGF36KN2\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},\"SMOKE\":{\"type\":\"CATEGORY\",\"id\":\"ZR4T66QI4OPXYP4ZUAYCHXZZ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},\"MISSILES\":{\"type\":\"CATEGORY\",\"id\":\"IM5XW6PFZXW7AAIOGKHU7APN\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},\"SUB ASSESMBLIES\":{\"type\":\"CATEGORY\",\"id\":\"GJTXQ6LUCTQYLXEIOSEMF7ET\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},\"NOVELTIES\":{\"type\":\"CATEGORY\",\"id\":\"XSYJXCBBMJP7PH3X7CCODQT2\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},\"MATERIALS\":{\"type\":\"CATEGORY\",\"id\":\"AQQH5LNZ5B62VRAALURQLD45\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},\"ROCKETS\":{\"type\":\"CATEGORY\",\"id\":\"F7JE6I2PADZZXUJKOWOEY7L7\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},\"HELICOPTERS\":{\"type\":\"CATEGORY\",\"id\":\"3SO5GDFYHLQ5BS6L3ZI665TQ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}},\"taxes\":{},\"discounts\":{},\"modifierLists\":{},\"itemsPrimaryKey\":\"SKU\",\"categoriesPrimaryKey\":\"NAME\",\"taxesPrimaryKey\":\"ID\",\"discountsPrimaryKey\":\"NAME\",\"modifierListsPrimaryKey\":\"NAME\"}";
    private static final String ItemsToInsert1stRunJson = "[{\"type\":\"ITEM\",\"id\":\"#c585a0bd-a62c-4c9b-a2f1-1073fb03193b\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"RED DEVIL TRAY C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#19f547a3-5492-4356-8999-ea5db4560de4\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"#c585a0bd-a62c-4c9b-a2f1-1073fb03193b\",\"name\":\"100603\",\"sku\":\"27736010509\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#4de76495-34ac-4737-b5d8-3a804f41c3a2\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT TRAY C     4/1\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#01c6fcdc-5ecf-432b-94f5-148582268206\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#4de76495-34ac-4737-b5d8-3a804f41c3a2\",\"name\":\"100687\",\"sku\":\"27736003037\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#e0794dd6-c87b-4613-a0eb-94ff6fd8b9d1\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"TNT HOT SHOT BAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#3c86b433-07bf-4e9f-92f1-d00db9f05624\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#e0794dd6-c87b-4613-a0eb-94ff6fd8b9d1\",\"name\":\"100382\",\"sku\":\"27736000098\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#b11f0e5d-df65-40d3-81e1-e5962bf927ce\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BIG BOMB TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#17615127-5e0f-4adc-af40-45a444a1fcc4\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"#b11f0e5d-df65-40d3-81e1-e5962bf927ce\",\"name\":\"100075\",\"sku\":\"27736024421\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#e31b4c0f-20a2-4798-902b-37ec16b8ce68\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"RED DEVIL TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#f8add51f-c640-4caf-a6b8-511ec6d58ef5\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#e31b4c0f-20a2-4798-902b-37ec16b8ce68\",\"name\":\"100605\",\"sku\":\"27736031030\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#21cde78f-63b5-42ac-b61a-c3aa08285462\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#1ee79d8f-a69d-424c-ad69-87df5ce2c900\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#21cde78f-63b5-42ac-b61a-c3aa08285462\",\"name\":\"100690\",\"sku\":\"27736031054\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#8fd171ef-fe5e-4fb1-a239-c7146814888b\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"GOODY BAG SS  PDQ\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#d5653e45-7c6c-4d4a-a64d-5a7845464936\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#8fd171ef-fe5e-4fb1-a239-c7146814888b\",\"name\":\"100934\",\"sku\":\"27736012510\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":699,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":699,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#506f153d-a91f-4867-9216-00f4a1203bf7\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"BURSTING W/PRIDE POLYBAG\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#0a619438-144d-4090-91ca-17b3b398ec58\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#506f153d-a91f-4867-9216-00f4a1203bf7\",\"name\":\"100138\",\"sku\":\"27736000289\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#a59deead-fe2b-460a-8d50-affceaeb883a\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BATTLE CRY ASSORTMENT C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#34377eeb-b37c-486d-94e9-c0aeefefbaf9\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"#a59deead-fe2b-460a-8d50-affceaeb883a\",\"name\":\"100068\",\"sku\":\"27736000036\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#80f71401-a529-4f6f-986c-a8007487c48f\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BLAST C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#54c8a2b4-6c38-4ef2-816f-9eb997743f7a\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"#80f71401-a529-4f6f-986c-a8007487c48f\",\"name\":\"100731\",\"sku\":\"27736006557\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":6999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":6999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"CATEGORY\",\"id\":\"KWEIYGPIXP3KVG5PZWPVY5PK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},{\"type\":\"CATEGORY\",\"id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},{\"type\":\"CATEGORY\",\"id\":\"MNHQ36C7XMKAFUOUY2O3I3IK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"7MRTKG4VWGP6DSFREOYMQMWZ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},{\"type\":\"CATEGORY\",\"id\":\"JVTEXQG2S546O7BRUKYZBO7J\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"NM3HKPXQ65IHGNZUOQINAQTL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"NWTOKKU3ZETJZRS75HHFMNRH\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"G7VTLCWM6ULXXGSMFD3LHXMW\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},{\"type\":\"CATEGORY\",\"id\":\"V2XV6VKLSPVUP36C5GVZXPHL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},{\"type\":\"CATEGORY\",\"id\":\"QNW2SBGBEELNVMXBWALQWWWU\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"BZLE6QMRFPNPCDL57RBADPCR\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},{\"type\":\"CATEGORY\",\"id\":\"7T4ZLSUEFKP2HYSJNCO7QJRK\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},{\"type\":\"CATEGORY\",\"id\":\"VZXAUZ2ZINUUWOF7Z3XENM37\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},{\"type\":\"CATEGORY\",\"id\":\"ZPVDZ55PSRGBZRR4RUDBSMEV\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},{\"type\":\"CATEGORY\",\"id\":\"JAF6DFEINAIOQDKRZXLQGEOL\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},{\"type\":\"CATEGORY\",\"id\":\"FV2HKIC5CTEZUUKEMGF36KN2\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},{\"type\":\"CATEGORY\",\"id\":\"ZR4T66QI4OPXYP4ZUAYCHXZZ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},{\"type\":\"CATEGORY\",\"id\":\"IM5XW6PFZXW7AAIOGKHU7APN\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},{\"type\":\"CATEGORY\",\"id\":\"GJTXQ6LUCTQYLXEIOSEMF7ET\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},{\"type\":\"CATEGORY\",\"id\":\"XSYJXCBBMJP7PH3X7CCODQT2\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},{\"type\":\"CATEGORY\",\"id\":\"AQQH5LNZ5B62VRAALURQLD45\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"F7JE6I2PADZZXUJKOWOEY7L7\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},{\"type\":\"CATEGORY\",\"id\":\"3SO5GDFYHLQ5BS6L3ZI665TQ\",\"updated_at\":\"2017-03-03T00:56:37.837Z\",\"version\":1488502597837,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}]";
    private static final String catalogAfter1stRunJson = "{\"items\":{\"27736010509\":{\"type\":\"ITEM\",\"id\":\"H5GWCEDY2NBGFO4IYKFMVPQI\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"RED DEVIL TRAY C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"2FX3BTSEAEDDTBBVAJR2JAGQ\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"H5GWCEDY2NBGFO4IYKFMVPQI\",\"name\":\"100603\",\"sku\":\"27736010509\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736003037\":{\"type\":\"ITEM\",\"id\":\"J6KGJFI2HMEF6AINWPASXGUP\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT TRAY C     4/1\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"7HVATPHAYMNIJMOKHQA5MLO4\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"J6KGJFI2HMEF6AINWPASXGUP\",\"name\":\"100687\",\"sku\":\"27736003037\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000098\":{\"type\":\"ITEM\",\"id\":\"EJCMHKRXYLIGDD2PRISX2LSK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"TNT HOT SHOT BAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"YE2TAZPEM74MYU4DVMLBKCBQ\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"EJCMHKRXYLIGDD2PRISX2LSK\",\"name\":\"100382\",\"sku\":\"27736000098\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736024421\":{\"type\":\"ITEM\",\"id\":\"RAK2GRY623I5O5YJHUQNEAB6\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BIG BOMB TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"AACSSFFE4N64WNDGXEUKWNGA\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"RAK2GRY623I5O5YJHUQNEAB6\",\"name\":\"100075\",\"sku\":\"27736024421\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031030\":{\"type\":\"ITEM\",\"id\":\"H5IYWQLVIP5L2U33W3VAH5S3\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"RED DEVIL TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"LT3KDSB354MR6WIVIAYV4NAO\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"H5IYWQLVIP5L2U33W3VAH5S3\",\"name\":\"100605\",\"sku\":\"27736031030\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031054\":{\"type\":\"ITEM\",\"id\":\"LTYMNZEJSHDUFNA2LPVS4RL4\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"4XB7FQXNVFIZD2D7DPLA6XOK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"LTYMNZEJSHDUFNA2LPVS4RL4\",\"name\":\"100690\",\"sku\":\"27736031054\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736012510\":{\"type\":\"ITEM\",\"id\":\"LZHJVHMDOIY77HGWN5ZI5ZEU\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"GOODY BAG SS  PDQ\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"7VO5DT2UF576OCRNOVWYORQE\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"LZHJVHMDOIY77HGWN5ZI5ZEU\",\"name\":\"100934\",\"sku\":\"27736012510\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":699,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":699,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000289\":{\"type\":\"ITEM\",\"id\":\"5I5RNCYDNAJZXIZXI3DYQBFJ\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"BURSTING W/PRIDE POLYBAG\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"Y3L3M3FS4I7WF27BXA5HY2OK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"5I5RNCYDNAJZXIZXI3DYQBFJ\",\"name\":\"100138\",\"sku\":\"27736000289\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000036\":{\"type\":\"ITEM\",\"id\":\"NQEPAWQKLYCVWKM3CRJE4NJ2\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BATTLE CRY ASSORTMENT C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"OQLLOOSCVMFC264JSSQCXN6V\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"NQEPAWQKLYCVWKM3CRJE4NJ2\",\"name\":\"100068\",\"sku\":\"27736000036\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736006557\":{\"type\":\"ITEM\",\"id\":\"BXAEZ335VCVITNXRNQOPOXKP\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BLAST C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"NUVJNU6MWWCMQJJHYYAW6JA3\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"BXAEZ335VCVITNXRNQOPOXKP\",\"name\":\"100731\",\"sku\":\"27736006557\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":6999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":6999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}}},\"categories\":{\"SPARKLERS\":{\"type\":\"CATEGORY\",\"id\":\"KWEIYGPIXP3KVG5PZWPVY5PK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},\"ASSORTMENTS\":{\"type\":\"CATEGORY\",\"id\":\"5WHOXM7U5LO7ZEA7XQKCXO6O\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},\"CALIFORNIA FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"MNHQ36C7XMKAFUOUY2O3I3IK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},\"PUNK\":{\"type\":\"CATEGORY\",\"id\":\"7MRTKG4VWGP6DSFREOYMQMWZ\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},\"CONE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"JVTEXQG2S546O7BRUKYZBO7J\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},\"BASE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"NM3HKPXQ65IHGNZUOQINAQTL\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},\"SPECIAL AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"NWTOKKU3ZETJZRS75HHFMNRH\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},\"FIRECRACKERS\":{\"type\":\"CATEGORY\",\"id\":\"G7VTLCWM6ULXXGSMFD3LHXMW\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},\"RELOADABLES\":{\"type\":\"CATEGORY\",\"id\":\"V2XV6VKLSPVUP36C5GVZXPHL\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},\"MULTI-AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"QNW2SBGBEELNVMXBWALQWWWU\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},\"PROMOTIONAL\":{\"type\":\"CATEGORY\",\"id\":\"BZLE6QMRFPNPCDL57RBADPCR\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},\"PARACHUTES\":{\"type\":\"CATEGORY\",\"id\":\"7T4ZLSUEFKP2HYSJNCO7QJRK\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},\"GROUND SPINNERS \\u0026 CHASERS\":{\"type\":\"CATEGORY\",\"id\":\"VZXAUZ2ZINUUWOF7Z3XENM37\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},\"TOYS\":{\"type\":\"CATEGORY\",\"id\":\"ZPVDZ55PSRGBZRR4RUDBSMEV\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},\"ROMAN CANDLES\":{\"type\":\"CATEGORY\",\"id\":\"JAF6DFEINAIOQDKRZXLQGEOL\",\"updated_at\":\"2017-03-03T00:56:38.464Z\",\"version\":1488502598464,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},\"COUNTER CASES \\u0026 DISPLAYS\":{\"type\":\"CATEGORY\",\"id\":\"FV2HKIC5CTEZUUKEMGF36KN2\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},\"SMOKE\":{\"type\":\"CATEGORY\",\"id\":\"ZR4T66QI4OPXYP4ZUAYCHXZZ\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},\"MISSILES\":{\"type\":\"CATEGORY\",\"id\":\"IM5XW6PFZXW7AAIOGKHU7APN\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},\"SUB ASSESMBLIES\":{\"type\":\"CATEGORY\",\"id\":\"GJTXQ6LUCTQYLXEIOSEMF7ET\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},\"NOVELTIES\":{\"type\":\"CATEGORY\",\"id\":\"XSYJXCBBMJP7PH3X7CCODQT2\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},\"MATERIALS\":{\"type\":\"CATEGORY\",\"id\":\"AQQH5LNZ5B62VRAALURQLD45\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},\"ROCKETS\":{\"type\":\"CATEGORY\",\"id\":\"F7JE6I2PADZZXUJKOWOEY7L7\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},\"HELICOPTERS\":{\"type\":\"CATEGORY\",\"id\":\"3SO5GDFYHLQ5BS6L3ZI665TQ\",\"updated_at\":\"2017-03-03T00:56:38.754Z\",\"version\":1488502598754,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}},\"taxes\":{},\"discounts\":{},\"modifierLists\":{},\"itemsPrimaryKey\":\"SKU\",\"categoriesPrimaryKey\":\"NAME\",\"taxesPrimaryKey\":\"ID\",\"discountsPrimaryKey\":\"NAME\",\"modifierListsPrimaryKey\":\"NAME\"}";

    // second run - input
    private static final String runTwolocationMarketingPlanCacheJson = "{\"FAL0004\":\"2TNTC\",\"FAL0002\":\"2TNTC\",\"AZP0002\":\"2TNTC\",\"TX 0489\":\"6LAR\",\"AZP0001\":\"6LAR\"}";
    private static final String runTwoMarketingPlanItemsCacheJson = "{\"2TNTC\":[{\"number\":\"100072\",\"category\":\"ASSORTMENTS\",\"description\":\"BIG BOMB POLYBAG C\",\"suggestedPrice\":\"49.99\",\"upc\":\"27736001651\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100382\",\"category\":\"ASSORTMENTS\",\"description\":\"TNT HOT SHOT BAG C\",\"suggestedPrice\":\"14.99\",\"upc\":\"27736000098\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100605\",\"category\":\"ASSORTMENTS\",\"description\":\"RED DEVIL TRAY SS\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736031030\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100687\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT TRAY C     4/1\",\"suggestedPrice\":\"79.99\",\"upc\":\"27736003037\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100690\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT SS\",\"suggestedPrice\":\"777.77\",\"upc\":\"27736031054\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"},{\"number\":\"100934\",\"category\":\"ASSORTMENTS\",\"description\":\"GOODY BAG SS  PDQ\",\"suggestedPrice\":\"555.55\",\"upc\":\"27736012510\",\"marketingPlan\":\"2TNTC\",\"currency\":\"USD\"}],\"6LAR\":[{\"number\":\"100041\",\"category\":\"ASSORTMENTS\",\"description\":\"ARSENAL C\",\"suggestedPrice\":\"199.99\",\"upc\":\"27736013784\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100075\",\"category\":\"ASSORTMENTS\",\"description\":\"BIG BOMB TRAY SS\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736024421\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100382\",\"category\":\"ASSORTMENTS\",\"description\":\"TNT HOT SHOT BAG C\",\"suggestedPrice\":\"9.99\",\"upc\":\"27736000098\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100687\",\"category\":\"ASSORTMENTS\",\"description\":\"SUPER TNT TRAY C     4/1\",\"suggestedPrice\":\"39.99\",\"upc\":\"27736003037\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100731\",\"category\":\"ASSORTMENTS\",\"description\":\"BLAST C\",\"suggestedPrice\":\"999.99\",\"upc\":\"27736006557\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"},{\"number\":\"100934\",\"category\":\"ASSORTMENTS\",\"description\":\"GOODY BAG SS  PDQ\",\"suggestedPrice\":\"888.88\",\"upc\":\"27736012510\",\"marketingPlan\":\"6LAR\",\"currency\":\"USD\"}]}";

    // second run - expectations
    private static final String catalogAfterRun1Json = catalogAfter1stRunJson;
    private static final String itemsToInsertRun2Json = "[{\"type\":\"ITEM\",\"id\":\"FYYBHLSBHKASAQBENUQDZJSP\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_data\":{\"name\":\"RED DEVIL TRAY C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"BT5W6JR6EMEU2DDHJ4RJOIIV\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_variation_data\":{\"item_id\":\"FYYBHLSBHKASAQBENUQDZJSP\",\"name\":\"100603\",\"sku\":\"27736010509\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#449b816e-b514-4bd5-8330-0d8ba1409fe8\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"BIG BOMB POLYBAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#193b3e4b-7a0c-44cd-b41b-ae1b3df0cfdc\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"#449b816e-b514-4bd5-8330-0d8ba1409fe8\",\"name\":\"100072\",\"sku\":\"27736001651\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT TRAY C     4/1\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"KAQAXWZBHMDA4QW3VDOK2EYB\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"name\":\"100687\",\"sku\":\"27736003037\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"TNT HOT SHOT BAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"6HYC7IIFTFL7LGB6MI3ENMF3\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"name\":\"100382\",\"sku\":\"27736000098\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BIG BOMB TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"EFVYBV54BPLJJMAUOMVKCCF2\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"name\":\"100075\",\"sku\":\"27736024421\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"#1895ccf2-19d5-48ef-9dc8-17ed4ec34f97\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"ARSENAL C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"#7df054b3-396d-4fdb-be42-0e9d6929a77c\",\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"#1895ccf2-19d5-48ef-9dc8-17ed4ec34f97\",\"name\":\"100041\",\"sku\":\"27736013784\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"RED DEVIL TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"XXNLR3XA5DKQOCKYHCWRENZE\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"name\":\"100605\",\"sku\":\"27736031030\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"ZJD6VSZYN3XFYPP73EKLXQ45\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"name\":\"100690\",\"sku\":\"27736031054\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"GOODY BAG SS  PDQ\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"E3S6F5LK56W5RUY3DUR2KI2I\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\",\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"name\":\"100934\",\"sku\":\"27736012510\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"IOLXBVELFBIXK4EGGPMGTYZM\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_data\":{\"name\":\"BURSTING W/PRIDE POLYBAG\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"YLDG6M72A73TUK7RWXFZEPAB\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_variation_data\":{\"item_id\":\"IOLXBVELFBIXK4EGGPMGTYZM\",\"name\":\"100138\",\"sku\":\"27736000289\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"location_overrides\":[],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"ZAENBHXHUOHXQX25DOZKLTJY\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_data\":{\"name\":\"BATTLE CRY ASSORTMENT C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"OTWTKJD75SP7CZXKPMWXPI3Q\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[],\"item_variation_data\":{\"item_id\":\"ZAENBHXHUOHXQX25DOZKLTJY\",\"name\":\"100068\",\"sku\":\"27736000036\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"location_overrides\":[],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"ITEM\",\"id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BLAST C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"3KA3NFDEZ4OEGIAGUFKKTL3X\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"name\":\"100731\",\"sku\":\"27736006557\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},{\"type\":\"CATEGORY\",\"id\":\"WFI5ISCFRFR2T6BZQ5ZBJYV4\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},{\"type\":\"CATEGORY\",\"id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},{\"type\":\"CATEGORY\",\"id\":\"FL2D6NHKW6ZBAZYIW47HICRJ\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"NTVLJFX3IU73G3BFWUGP3PMT\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},{\"type\":\"CATEGORY\",\"id\":\"O6CKSIR7PW2K2XGFW4SC744N\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"TLDCI2SHJ6QRU4BHR6TUDPRH\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},{\"type\":\"CATEGORY\",\"id\":\"HJHMR6XQB3HJGD3AAUTASEC2\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"46YSHHEXOCTZFZIFW26QUXJF\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},{\"type\":\"CATEGORY\",\"id\":\"PUHGSI5TA5VGRCU7W6BA37IP\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},{\"type\":\"CATEGORY\",\"id\":\"WLK4BGEWRDO6P6ND3O73SK6V\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"55MLUSG4I2LTX5AHPNRUEX7E\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},{\"type\":\"CATEGORY\",\"id\":\"SE6ZWXWVU6KZIHKMQ3TJFJRT\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},{\"type\":\"CATEGORY\",\"id\":\"26I5VZL3Y6NELNBIJSVPHCI7\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},{\"type\":\"CATEGORY\",\"id\":\"YC75GNI26WQ4NTBLRUYLUKBL\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},{\"type\":\"CATEGORY\",\"id\":\"JWJ5UU2AR6ZLLG5H7RPZ76JU\",\"updated_at\":\"2017-03-06T01:40:41.2Z\",\"version\":1488764441200,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},{\"type\":\"CATEGORY\",\"id\":\"J6V3BCDJOCOSNJIDKEHRAXLD\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},{\"type\":\"CATEGORY\",\"id\":\"MDCPJSA2ZLRA7ZUVFXGVUQ5W\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},{\"type\":\"CATEGORY\",\"id\":\"T7546MWTTBKQTJMUAJWBQ4N4\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},{\"type\":\"CATEGORY\",\"id\":\"CAA6KWJCCKC5ROR2VL5DRQLT\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},{\"type\":\"CATEGORY\",\"id\":\"M2RL6QCICRUH6VWP2SRDBISI\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},{\"type\":\"CATEGORY\",\"id\":\"77YTBRTR4II4RXGIOBKLNAML\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},{\"type\":\"CATEGORY\",\"id\":\"7MSQ2PG2QEERPMUS4PYDP7TL\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},{\"type\":\"CATEGORY\",\"id\":\"YSNXOX7ELNKK2TDCWT2XLGVE\",\"updated_at\":\"2017-03-06T01:40:41.532Z\",\"version\":1488764441532,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}]";
    private static final String catalogAfterItemInsertedRun2 = "{\"items\":{\"27736010509\":{\"type\":\"ITEM\",\"id\":\"FYYBHLSBHKASAQBENUQDZJSP\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_data\":{\"name\":\"RED DEVIL TRAY C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"BT5W6JR6EMEU2DDHJ4RJOIIV\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_variation_data\":{\"item_id\":\"FYYBHLSBHKASAQBENUQDZJSP\",\"name\":\"100603\",\"sku\":\"27736010509\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736001651\":{\"type\":\"ITEM\",\"id\":\"IDHW3WX2BYHWWCNPE7ZUEKBG\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"BIG BOMB POLYBAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"YWDN5EQ24MCZ27OPFCBROPHM\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"IDHW3WX2BYHWWCNPE7ZUEKBG\",\"name\":\"100072\",\"sku\":\"27736001651\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736003037\":{\"type\":\"ITEM\",\"id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT TRAY C     4/1\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"KAQAXWZBHMDA4QW3VDOK2EYB\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"name\":\"100687\",\"sku\":\"27736003037\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000098\":{\"type\":\"ITEM\",\"id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\",\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"TNT HOT SHOT BAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"6HYC7IIFTFL7LGB6MI3ENMF3\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\",\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"name\":\"100382\",\"sku\":\"27736000098\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736024421\":{\"type\":\"ITEM\",\"id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BIG BOMB TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"EFVYBV54BPLJJMAUOMVKCCF2\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"name\":\"100075\",\"sku\":\"27736024421\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736013784\":{\"type\":\"ITEM\",\"id\":\"XDCEUS4IBEBPFA3LRKLTWS54\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"ARSENAL C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"BA3MBZWTAHA4CSUHYO2CHQTR\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"XDCEUS4IBEBPFA3LRKLTWS54\",\"name\":\"100041\",\"sku\":\"27736013784\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031030\":{\"type\":\"ITEM\",\"id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"RED DEVIL TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"XXNLR3XA5DKQOCKYHCWRENZE\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"name\":\"100605\",\"sku\":\"27736031030\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031054\":{\"type\":\"ITEM\",\"id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"ZJD6VSZYN3XFYPP73EKLXQ45\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"name\":\"100690\",\"sku\":\"27736031054\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736012510\":{\"type\":\"ITEM\",\"id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"GOODY BAG SS  PDQ\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"E3S6F5LK56W5RUY3DUR2KI2I\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"name\":\"100934\",\"sku\":\"27736012510\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000289\":{\"type\":\"ITEM\",\"id\":\"IOLXBVELFBIXK4EGGPMGTYZM\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_data\":{\"name\":\"BURSTING W/PRIDE POLYBAG\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"YLDG6M72A73TUK7RWXFZEPAB\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_variation_data\":{\"item_id\":\"IOLXBVELFBIXK4EGGPMGTYZM\",\"name\":\"100138\",\"sku\":\"27736000289\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":2999,\"currency\":\"USD\"},\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000036\":{\"type\":\"ITEM\",\"id\":\"ZAENBHXHUOHXQX25DOZKLTJY\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_data\":{\"name\":\"BATTLE CRY ASSORTMENT C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"OTWTKJD75SP7CZXKPMWXPI3Q\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"item_variation_data\":{\"item_id\":\"ZAENBHXHUOHXQX25DOZKLTJY\",\"name\":\"100068\",\"sku\":\"27736000036\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":1999,\"currency\":\"USD\"},\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736006557\":{\"type\":\"ITEM\",\"id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BLAST C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"3KA3NFDEZ4OEGIAGUFKKTL3X\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"name\":\"100731\",\"sku\":\"27736006557\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}}},\"categories\":{\"SPARKLERS\":{\"type\":\"CATEGORY\",\"id\":\"WFI5ISCFRFR2T6BZQ5ZBJYV4\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},\"ASSORTMENTS\":{\"type\":\"CATEGORY\",\"id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},\"CALIFORNIA FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"FL2D6NHKW6ZBAZYIW47HICRJ\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},\"PUNK\":{\"type\":\"CATEGORY\",\"id\":\"NTVLJFX3IU73G3BFWUGP3PMT\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},\"CONE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"O6CKSIR7PW2K2XGFW4SC744N\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},\"BASE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"TLDCI2SHJ6QRU4BHR6TUDPRH\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},\"SPECIAL AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"HJHMR6XQB3HJGD3AAUTASEC2\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},\"FIRECRACKERS\":{\"type\":\"CATEGORY\",\"id\":\"46YSHHEXOCTZFZIFW26QUXJF\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},\"RELOADABLES\":{\"type\":\"CATEGORY\",\"id\":\"PUHGSI5TA5VGRCU7W6BA37IP\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},\"MULTI-AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"WLK4BGEWRDO6P6ND3O73SK6V\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},\"PROMOTIONAL\":{\"type\":\"CATEGORY\",\"id\":\"55MLUSG4I2LTX5AHPNRUEX7E\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},\"PARACHUTES\":{\"type\":\"CATEGORY\",\"id\":\"SE6ZWXWVU6KZIHKMQ3TJFJRT\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},\"GROUND SPINNERS \\u0026 CHASERS\":{\"type\":\"CATEGORY\",\"id\":\"26I5VZL3Y6NELNBIJSVPHCI7\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},\"TOYS\":{\"type\":\"CATEGORY\",\"id\":\"YC75GNI26WQ4NTBLRUYLUKBL\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},\"ROMAN CANDLES\":{\"type\":\"CATEGORY\",\"id\":\"JWJ5UU2AR6ZLLG5H7RPZ76JU\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},\"COUNTER CASES \\u0026 DISPLAYS\":{\"type\":\"CATEGORY\",\"id\":\"J6V3BCDJOCOSNJIDKEHRAXLD\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},\"SMOKE\":{\"type\":\"CATEGORY\",\"id\":\"MDCPJSA2ZLRA7ZUVFXGVUQ5W\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},\"MISSILES\":{\"type\":\"CATEGORY\",\"id\":\"T7546MWTTBKQTJMUAJWBQ4N4\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},\"SUB ASSESMBLIES\":{\"type\":\"CATEGORY\",\"id\":\"CAA6KWJCCKC5ROR2VL5DRQLT\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},\"NOVELTIES\":{\"type\":\"CATEGORY\",\"id\":\"M2RL6QCICRUH6VWP2SRDBISI\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},\"MATERIALS\":{\"type\":\"CATEGORY\",\"id\":\"77YTBRTR4II4RXGIOBKLNAML\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},\"ROCKETS\":{\"type\":\"CATEGORY\",\"id\":\"7MSQ2PG2QEERPMUS4PYDP7TL\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},\"HELICOPTERS\":{\"type\":\"CATEGORY\",\"id\":\"YSNXOX7ELNKK2TDCWT2XLGVE\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}},\"taxes\":{},\"discounts\":{},\"modifierLists\":{},\"itemsPrimaryKey\":\"SKU\",\"categoriesPrimaryKey\":\"NAME\",\"taxesPrimaryKey\":\"ID\",\"discountsPrimaryKey\":\"NAME\",\"modifierListsPrimaryKey\":\"NAME\"}";
    private static final String catalogAfterRun2Json = "{\"items\":{\"27736001651\":{\"type\":\"ITEM\",\"id\":\"IDHW3WX2BYHWWCNPE7ZUEKBG\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"BIG BOMB POLYBAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"YWDN5EQ24MCZ27OPFCBROPHM\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"IDHW3WX2BYHWWCNPE7ZUEKBG\",\"name\":\"100072\",\"sku\":\"27736001651\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":4999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736003037\":{\"type\":\"ITEM\",\"id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT TRAY C     4/1\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"KAQAXWZBHMDA4QW3VDOK2EYB\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"YRSWBQD4A4F2FAOYO6KSOSB5\",\"name\":\"100687\",\"sku\":\"27736003037\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":7999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736000098\":{\"type\":\"ITEM\",\"id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\",\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"TNT HOT SHOT BAG C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"6HYC7IIFTFL7LGB6MI3ENMF3\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\",\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"B3CHL5LAGCPHKLMRUIHU4MVA\",\"name\":\"100382\",\"sku\":\"27736000098\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":1499,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736024421\":{\"type\":\"ITEM\",\"id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BIG BOMB TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"EFVYBV54BPLJJMAUOMVKCCF2\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"DOISRDEPQBOHUY7UJPRJXLO4\",\"name\":\"100075\",\"sku\":\"27736024421\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736013784\":{\"type\":\"ITEM\",\"id\":\"XDCEUS4IBEBPFA3LRKLTWS54\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"ARSENAL C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"BA3MBZWTAHA4CSUHYO2CHQTR\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"XDCEUS4IBEBPFA3LRKLTWS54\",\"name\":\"100041\",\"sku\":\"27736013784\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":19999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031030\":{\"type\":\"ITEM\",\"id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"RED DEVIL TRAY SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"XXNLR3XA5DKQOCKYHCWRENZE\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"3XSGCK4VHF3YZZVR47E7GUIW\",\"name\":\"100605\",\"sku\":\"27736031030\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":3999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736031054\":{\"type\":\"ITEM\",\"id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"SUPER TNT SS\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"ZJD6VSZYN3XFYPP73EKLXQ45\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"HXNTKE6BVGX6PJX4NJE2SLUO\",\"name\":\"100690\",\"sku\":\"27736031054\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":77777,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736012510\":{\"type\":\"ITEM\",\"id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_data\":{\"name\":\"GOODY BAG SS  PDQ\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"E3S6F5LK56W5RUY3DUR2KI2I\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"2QD45WEE8B1BW\",\"7Y9J7C251APH3\",\"F8M9VD8NNBQ7J\"],\"item_variation_data\":{\"item_id\":\"6N3R44YKLUPCE4HXM5FGEXES\",\"name\":\"100934\",\"sku\":\"27736012510\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"2QD45WEE8B1BW\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":88888,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"},{\"location_id\":\"F8M9VD8NNBQ7J\",\"price_money\":{\"amount\":55555,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}},\"27736006557\":{\"type\":\"ITEM\",\"id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_data\":{\"name\":\"BLAST C\",\"available_online\":false,\"available_for_pickup\":false,\"available_electronically\":false,\"category_id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"variations\":[{\"type\":\"ITEM_VARIATION\",\"id\":\"3KA3NFDEZ4OEGIAGUFKKTL3X\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":false,\"present_at_location_ids\":[\"7Y9J7C251APH3\"],\"item_variation_data\":{\"item_id\":\"YPL5BNEHKCKYWEQAVTBBSNMY\",\"name\":\"100731\",\"sku\":\"27736006557\",\"ordinal\":0,\"pricing_type\":\"FIXED_PRICING\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"location_overrides\":[{\"location_id\":\"7Y9J7C251APH3\",\"price_money\":{\"amount\":99999,\"currency\":\"USD\"},\"pricing_type\":\"FIXED_PRICING\"}],\"track_inventory\":false,\"inventory_alert_type\":\"NONE\",\"inventory_alert_threshold\":0}}]}}},\"categories\":{\"SPARKLERS\":{\"type\":\"CATEGORY\",\"id\":\"WFI5ISCFRFR2T6BZQ5ZBJYV4\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPARKLERS\"}},\"ASSORTMENTS\":{\"type\":\"CATEGORY\",\"id\":\"QP5XROEN3CWFWSPMRX7RZ2WS\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ASSORTMENTS\"}},\"CALIFORNIA FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"FL2D6NHKW6ZBAZYIW47HICRJ\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CALIFORNIA FOUNTAINS\"}},\"PUNK\":{\"type\":\"CATEGORY\",\"id\":\"NTVLJFX3IU73G3BFWUGP3PMT\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PUNK\"}},\"CONE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"O6CKSIR7PW2K2XGFW4SC744N\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"CONE FOUNTAINS\"}},\"BASE FOUNTAINS\":{\"type\":\"CATEGORY\",\"id\":\"TLDCI2SHJ6QRU4BHR6TUDPRH\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"BASE FOUNTAINS\"}},\"SPECIAL AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"HJHMR6XQB3HJGD3AAUTASEC2\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SPECIAL AERIALS\"}},\"FIRECRACKERS\":{\"type\":\"CATEGORY\",\"id\":\"46YSHHEXOCTZFZIFW26QUXJF\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"FIRECRACKERS\"}},\"RELOADABLES\":{\"type\":\"CATEGORY\",\"id\":\"PUHGSI5TA5VGRCU7W6BA37IP\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"RELOADABLES\"}},\"MULTI-AERIALS\":{\"type\":\"CATEGORY\",\"id\":\"WLK4BGEWRDO6P6ND3O73SK6V\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MULTI-AERIALS\"}},\"PROMOTIONAL\":{\"type\":\"CATEGORY\",\"id\":\"55MLUSG4I2LTX5AHPNRUEX7E\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PROMOTIONAL\"}},\"PARACHUTES\":{\"type\":\"CATEGORY\",\"id\":\"SE6ZWXWVU6KZIHKMQ3TJFJRT\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"PARACHUTES\"}},\"GROUND SPINNERS \\u0026 CHASERS\":{\"type\":\"CATEGORY\",\"id\":\"26I5VZL3Y6NELNBIJSVPHCI7\",\"updated_at\":\"2017-03-06T01:40:43.08Z\",\"version\":1488764443080,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"GROUND SPINNERS \\u0026 CHASERS\"}},\"TOYS\":{\"type\":\"CATEGORY\",\"id\":\"YC75GNI26WQ4NTBLRUYLUKBL\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"TOYS\"}},\"ROMAN CANDLES\":{\"type\":\"CATEGORY\",\"id\":\"JWJ5UU2AR6ZLLG5H7RPZ76JU\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROMAN CANDLES\"}},\"COUNTER CASES \\u0026 DISPLAYS\":{\"type\":\"CATEGORY\",\"id\":\"J6V3BCDJOCOSNJIDKEHRAXLD\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"COUNTER CASES \\u0026 DISPLAYS\"}},\"SMOKE\":{\"type\":\"CATEGORY\",\"id\":\"MDCPJSA2ZLRA7ZUVFXGVUQ5W\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SMOKE\"}},\"MISSILES\":{\"type\":\"CATEGORY\",\"id\":\"T7546MWTTBKQTJMUAJWBQ4N4\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MISSILES\"}},\"SUB ASSESMBLIES\":{\"type\":\"CATEGORY\",\"id\":\"CAA6KWJCCKC5ROR2VL5DRQLT\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"SUB ASSESMBLIES\"}},\"NOVELTIES\":{\"type\":\"CATEGORY\",\"id\":\"M2RL6QCICRUH6VWP2SRDBISI\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"NOVELTIES\"}},\"MATERIALS\":{\"type\":\"CATEGORY\",\"id\":\"77YTBRTR4II4RXGIOBKLNAML\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"MATERIALS\"}},\"ROCKETS\":{\"type\":\"CATEGORY\",\"id\":\"7MSQ2PG2QEERPMUS4PYDP7TL\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"ROCKETS\"}},\"HELICOPTERS\":{\"type\":\"CATEGORY\",\"id\":\"YSNXOX7ELNKK2TDCWT2XLGVE\",\"updated_at\":\"2017-03-06T01:40:43.394Z\",\"version\":1488764443394,\"is_deleted\":false,\"present_at_all_locations\":true,\"category_data\":{\"name\":\"HELICOPTERS\"}}},\"taxes\":{},\"discounts\":{},\"modifierLists\":{},\"itemsPrimaryKey\":\"SKU\",\"categoriesPrimaryKey\":\"NAME\",\"taxesPrimaryKey\":\"ID\",\"discountsPrimaryKey\":\"NAME\",\"modifierListsPrimaryKey\":\"NAME\"}";

    // types
    private static final Type hashmapStringString = new TypeToken<HashMap<String, String>>() {
    }.getType();
    private static final Type hashmapStringListCsvItem = new TypeToken<HashMap<String, List<CsvItem>>>() {
    }.getType();
    private static final String ITEM = null;

    @Override
    protected void setUp() {
        MockitoAnnotations.initMocks(this);
    }

    public void testTntCatalogApiConstructor() throws Exception {

        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();

        HashMap<String, String> locationMarketingPlanCache = gson.fromJson(locationMarketingPlanCache1stRunJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> marketingPlanItemsCache = gson.fromJson(marketingPlanItemsCache1stRunJson,
                hashmapStringListCsvItem);
        Location[] locationResults = gson.fromJson(locationsJson, Location[].class);

        SquareClientV2 client = Mockito.mock(SquareClientV2.class);
        LocationsAdapter locationsAdapter = Mockito.mock(LocationsAdapter.class);
        CatalogAdapter catalogAdapter = Mockito.mock(CatalogAdapter.class);

        Mockito.when(locationsAdapter.list()).thenReturn(locationResults);
        Mockito.when(client.locations()).thenReturn(locationsAdapter);
        Mockito.when(client.catalog()).thenReturn(catalogAdapter);

        TntCatalogApi tntCatalogApi = new TntCatalogApi(client, locationMarketingPlanCache, marketingPlanItemsCache);

        Mockito.verify(locationsAdapter).list();
        Mockito.verify(client).locations();

        HashMap<String, List<String>> marketingPlanLocationsCache = Mockito
                .spy(tntCatalogApi.marketingPlanLocationsCache);

        Assert.assertTrue(marketingPlanLocationsCache.containsKey("2TNTC"));
        Assert.assertTrue(marketingPlanLocationsCache.containsKey("6LAR"));
        Assert.assertTrue(marketingPlanLocationsCache.size() == 2);

        String[] squareLocations = new String[] { "F8M9VD8NNBQ7J", "2QD45WEE8B1BW" };
        ArrayList<String> squareLocationsArray = new ArrayList<String>(Arrays.asList(squareLocations));

        Assert.assertTrue(marketingPlanLocationsCache.get("2TNTC").containsAll(squareLocationsArray));
        Assert.assertTrue(marketingPlanLocationsCache.get("2TNTC").size() == 2);
        Assert.assertTrue(marketingPlanLocationsCache.get("6LAR").size() == 1);
        Assert.assertTrue(marketingPlanLocationsCache.get("6LAR").contains("7Y9J7C251APH3"));

        Mockito.verify(client).catalog();

    }

    public void testCategories() {
        //TODO: Wtsang - write this test
    }

    private CatalogObject[] cloneCatalogObjectArray(CatalogObject[] catalogObjectArray) {
        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();

        String json = gson.toJson(catalogObjectArray, CatalogObject[].class);
        return gson.fromJson(json, CatalogObject[].class);
    }

    private CatalogObject[] stripItemAndVariationIds(CatalogObject[] catalogObjectArray) {

        // in order to compare items we have to strip off the Square created Ids and timestamps between the temporary UUIDs we insert

        for (CatalogObject catalogObject : catalogObjectArray) {
            catalogObject.setId(null);
            catalogObject.setUpdatedAt(null);
            catalogObject.setVersion(null);
            if (catalogObject.getType().equals("ITEM")) {
                CatalogItem catalogItem = catalogObject.getItemData();
                if (catalogItem != null && catalogItem.getVariations() != null) {
                    catalogItem.setCategoryId(null);
                    for (CatalogObject itemVariation : catalogObject.getItemData().getVariations()) {
                        itemVariation.setId(null);
                        CatalogItemVariation variationData = itemVariation.getItemVariationData();
                        itemVariation.setId(null);
                        itemVariation.setUpdatedAt(null);
                        itemVariation.setVersion(null);
                        if (variationData != null) {
                            variationData.setItemId(null);
                        }
                    }
                }
            }
        }
        return catalogObjectArray;
    }

    /*
     *  Compares that two catalogObject[] arrays are equal
     *  We convert to JSON to do the comparison, as the JSONAssert library will
     *  compare ignoring the order of the nested arrays, Square IDs and Square versions
     *  and also ignores added JSON elements.
     *
     *  Note: We do the comparison inside cloned objects as to not modify the caller's catalog when
     *  stripping the IDs
     */
    private void assertCatalogsEqual(CatalogObject[] expected, CatalogObject[] actual) throws Exception {

        CatalogObject[] expectedCatalog = cloneCatalogObjectArray(expected);
        CatalogObject[] actualCatalog = cloneCatalogObjectArray(actual);

        expectedCatalog = stripItemAndVariationIds(expectedCatalog);
        actualCatalog = stripItemAndVariationIds(actualCatalog);

        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();

        String expectedJson = gson.toJson(expectedCatalog);
        String actualJson = gson.toJson(actualCatalog);

        System.out.println(expectedJson);
        System.out.println(actualJson);
        JSONAssert.assertEquals(expectedJson, actualJson, false);
    }

    /*
     * Unit test of creating items and variation from a blank state Square account
     */
    public void testAddItemsAndVariations() throws Exception {

        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();

        // starting data from database
        HashMap<String, String> locationMarketingPlanCache = gson.fromJson(locationMarketingPlanCache1stRunJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> marketingPlanItemsCache = gson.fromJson(marketingPlanItemsCache1stRunJson,
                hashmapStringListCsvItem);

        // starting data
        Catalog catalogWithCategories = gson.fromJson(catalogWithCategoriesOnlyJson, Catalog.class);
        Location[] locationResults = gson.fromJson(locationsJson, Location[].class);

        // expected insert
        CatalogObject[] expectedCatalogObjectArrayToInsert = gson.fromJson(ItemsToInsert1stRunJson,
                CatalogObject[].class);

        // expected reult
        Catalog expectedCatalog = gson.fromJson(catalogAfter1stRunJson, Catalog.class);

        // setup mocks
        SquareClientV2 client = Mockito.mock(SquareClientV2.class);
        CatalogAdapter catalogAdapter = Mockito.mock(CatalogAdapter.class);
        LocationsAdapter locationsAdapter = Mockito.mock(LocationsAdapter.class);

        // call to return in constructor
        Mockito.when(locationsAdapter.list()).thenReturn(locationResults);
        Mockito.when(client.locations()).thenReturn(locationsAdapter);
        Mockito.when(client.catalog()).thenReturn(catalogAdapter);
        Mockito.when(catalogAdapter.retrieveCatalog(Catalog.PrimaryKey.SKU, Catalog.PrimaryKey.NAME,
                Catalog.PrimaryKey.ID, Catalog.PrimaryKey.NAME, Catalog.PrimaryKey.NAME))
                .thenReturn(catalogWithCategories);

        TntCatalogApi tntCatalogApi = new TntCatalogApi(client, locationMarketingPlanCache, marketingPlanItemsCache);

        Catalog resultingCatalog = tntCatalogApi.batchUpsertItemsIntoCatalog();

        Mockito.when(catalogAdapter.retrieveCatalog(Catalog.PrimaryKey.SKU, Catalog.PrimaryKey.NAME,
                Catalog.PrimaryKey.ID, Catalog.PrimaryKey.NAME, Catalog.PrimaryKey.NAME)).thenReturn(expectedCatalog);

        // verifies that the call to batch upsert objects is made with the expected items to insert
        ArgumentCaptor<CatalogObject[]> captor = ArgumentCaptor.forClass(CatalogObject[].class);
        Mockito.verify(catalogAdapter).batchUpsertObjects(captor.capture());
        CatalogObject[] upsertArguments = captor.getValue();
        assertCatalogsEqual(expectedCatalogObjectArrayToInsert, upsertArguments);

        //verifies that the catalog returned is the catalog after the added items
        CatalogObject[] expectedCatalogObjects = expectedCatalog.getObjects();
        CatalogObject[] actualCatalogObjects = resultingCatalog.getObjects();
        assertCatalogsEqual(actualCatalogObjects, expectedCatalogObjects);

    }

    public void testIntegrationClearCatalogTest() {
        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();
        SquarePayload deployment = gson.fromJson(deploymentJson, SquarePayload.class);
        SquareClientV2 client = new SquareClientV2(apiUrl, deployment.getAccessToken(ENCRYPTION_KEY));
        HashMap<String, String> locationMarketingPlanCache = gson.fromJson(locationMarketingPlanCache1stRunJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> marketingPlanItemsCache = gson.fromJson(marketingPlanItemsCache1stRunJson,
                hashmapStringListCsvItem);

        TntCatalogApi tntCatalogApi = new TntCatalogApi(client, locationMarketingPlanCache, marketingPlanItemsCache);

        Catalog clearedCatalog = tntCatalogApi.clearCatalog();

        CatalogObject[] expected = clearedCatalog.getObjects();
        Assert.assertEquals(expected.length, 0);

    }

    /*
     * Full integration test - calling the Square API
     * We do one run, upserting objects on 12/22 to two marketing plans
     * We then do another run, upserting objects on 12/23 on two marketing plans, and deleting items not present
     */
    public void testIntegrationTest() throws Exception {
        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();
        SquarePayload deployment = gson.fromJson(deploymentJson, SquarePayload.class);
        SquareClientV2 client = new SquareClientV2(apiUrl, deployment.getAccessToken(ENCRYPTION_KEY));

        // load 1st run
        HashMap<String, String> locationMarketingPlanCache = gson.fromJson(locationMarketingPlanCache1stRunJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> marketingPlanItemsCache = gson.fromJson(marketingPlanItemsCache1stRunJson,
                hashmapStringListCsvItem);

        TntCatalogApi tntCatalogApi = new TntCatalogApi(client, locationMarketingPlanCache, marketingPlanItemsCache);

        // clear catalog
        Catalog clearedCatalog = tntCatalogApi.clearCatalog();

        System.out.println("clearedCatalog");
        System.out.println(gson.toJson(clearedCatalog));

        // load 1st run
        Catalog catalogWithCategoriesOnly = tntCatalogApi.batchUpsertCategoriesFromDatabaseToSquare();

        System.out.println("catalogWithCategoriesOnly");
        System.out.println(gson.toJson(catalogWithCategoriesOnly));

        Catalog catalogAfterItemInserted = tntCatalogApi.batchUpsertItemsIntoCatalog();

        System.out.println("catalogAfterItemInserted");
        System.out.println(gson.toJson(catalogAfterItemInserted));

        Catalog catalogAfterItemsDeleted = tntCatalogApi.removeItemsNotPresentAtAnyLocations();
        Catalog expectedCatalogFromJson = gson.fromJson(catalogAfterRun1Json, Catalog.class);

        System.out.println("catalogAfterItemsDeleted");
        System.out.println("result0=" + gson.toJson(catalogAfterItemsDeleted));

        assertCatalogsEqual(catalogAfterItemInserted.getObjects(), catalogAfterItemsDeleted.getObjects()); // should be true because on first run, no objects are deleted, so catalog should be equal
        assertCatalogsEqual(expectedCatalogFromJson.getObjects(), catalogAfterItemsDeleted.getObjects());

        System.out.println("done with first run");

        // load 2nd run
        HashMap<String, String> runTwolocationMarketingPlanCache = gson.fromJson(runTwolocationMarketingPlanCacheJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> runTwoMarketingPlanItemsCache = gson.fromJson(runTwoMarketingPlanItemsCacheJson,
                hashmapStringListCsvItem);

        tntCatalogApi = new TntCatalogApi(client, runTwolocationMarketingPlanCache, runTwoMarketingPlanItemsCache);

        CatalogObject[] expectedCatalogAfterInsertRunTwo = gson.fromJson(catalogAfterItemInsertedRun2, Catalog.class)
                .getObjects();

        // 2nd run inserts
        Catalog catalogAfter2ndRunItemInserts = tntCatalogApi.batchUpsertItemsIntoCatalog();
        System.out.println("result1=" + gson.toJson(catalogAfter2ndRunItemInserts, Catalog.class));

        assertCatalogsEqual(expectedCatalogAfterInsertRunTwo, catalogAfter2ndRunItemInserts.getObjects());
        System.out.println("done with 2nd run inserts");

        // 2nd run deletes
        Catalog actualFinalCatalog = tntCatalogApi.removeItemsNotPresentAtAnyLocations();

        System.out.println("done with 2nd run deletes");
        System.out.println("result2=" + gson.toJson(actualFinalCatalog, Catalog.class));

        Catalog expectedFinalCatalogObjects = gson.fromJson(catalogAfterRun2Json, Catalog.class);
        assertCatalogsEqual(expectedFinalCatalogObjects.getObjects(), actualFinalCatalog.getObjects());

    }

    /*
     * This is a unit test starting from a catalog state with items and variations, checking that the appropriate items are
     * upserted and deleted afterwards
     */
    public void testAddItemsAndVariationsRunTwo() throws Exception {
        GsonBuilder builder = new GsonBuilder();
        Gson gson = builder.create();

        // starting data from database
        HashMap<String, String> locationMarketingPlanCache = gson.fromJson(runTwolocationMarketingPlanCacheJson,
                hashmapStringString);
        HashMap<String, List<CsvItem>> marketingPlanItemsCache = gson.fromJson(runTwoMarketingPlanItemsCacheJson,
                hashmapStringListCsvItem);

        // starting data
        Catalog catalogAfterRunOne = gson.fromJson(catalogAfterRun1Json, Catalog.class);
        Location[] locationResults = gson.fromJson(locationsJson, Location[].class);

        // expected insert
        CatalogObject[] expectedCatalogObjectArrayToInsert = gson.fromJson(itemsToInsertRun2Json,
                CatalogObject[].class);

        // expected results
        Catalog expectedCatalog = gson.fromJson(catalogAfterItemInsertedRun2, Catalog.class);
        Catalog catalogAfterRun2 = gson.fromJson(catalogAfterRun2Json, Catalog.class);

        // setup mocks
        SquareClientV2 client = Mockito.mock(SquareClientV2.class);
        CatalogAdapter catalogAdapter = Mockito.mock(CatalogAdapter.class);
        LocationsAdapter locationsAdapter = Mockito.mock(LocationsAdapter.class);

        // call to return in constructor
        Mockito.when(locationsAdapter.list()).thenReturn(locationResults);
        Mockito.when(client.locations()).thenReturn(locationsAdapter);
        Mockito.when(client.catalog()).thenReturn(catalogAdapter);
        Mockito.when(catalogAdapter.retrieveCatalog(Catalog.PrimaryKey.SKU, Catalog.PrimaryKey.NAME,
                Catalog.PrimaryKey.ID, Catalog.PrimaryKey.NAME, Catalog.PrimaryKey.NAME))
                .thenReturn(catalogAfterRunOne, expectedCatalog, catalogAfterRun2);

        TntCatalogApi tntCatalogApi = new TntCatalogApi(client, locationMarketingPlanCache, marketingPlanItemsCache);

        Catalog resultingCatalog = tntCatalogApi.batchUpsertItemsIntoCatalog();

        // verifies that the call to batch upsert objects is made with the expected items to insert
        ArgumentCaptor<CatalogObject[]> captor = ArgumentCaptor.forClass(CatalogObject[].class);
        Mockito.verify(catalogAdapter).batchUpsertObjects(captor.capture());
        CatalogObject[] upsertArguments = captor.getValue();
        assertCatalogsEqual(expectedCatalogObjectArrayToInsert, upsertArguments);

        //verifies that the catalog returned is the catalog after the added items
        CatalogObject[] expectedCatalogObjects = expectedCatalog.getObjects();
        CatalogObject[] actualCatalogObjects = resultingCatalog.getObjects();
        assertCatalogsEqual(expectedCatalogObjects, actualCatalogObjects);

        // verifies that the calls to delete objects are made exactly three times and with correct objects
        Catalog resultingCatalogAfterDeletes = tntCatalogApi.removeItemsNotPresentAtAnyLocations();
        Mockito.verify(catalogAdapter).deleteObject("ZAENBHXHUOHXQX25DOZKLTJY"); // battle cry assortment c 100068
        Mockito.verify(catalogAdapter).deleteObject("FYYBHLSBHKASAQBENUQDZJSP"); // red devil tray c 100603
        Mockito.verify(catalogAdapter).deleteObject("IOLXBVELFBIXK4EGGPMGTYZM"); // bursting w/ pride polybag 100138
        Mockito.verify(catalogAdapter, Mockito.times(3)).deleteObject(Mockito.anyString());

        // verifies that the catalog is updated after the delete operation
        assertCatalogsEqual(catalogAfterRun2.getObjects(), resultingCatalogAfterDeletes.getObjects());
    }

}
